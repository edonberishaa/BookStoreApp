<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">


<div class="get-in-touch bg-gray-50 py-8 px-4 sm:px-6 lg:px-8 rounded-lg shadow-md max-w-md mx-auto">
  <h1 class="title text-2xl font-semibold text-center text-gray-700 mb-6">Add a New Book</h1>

  <form [formGroup]="bookForm" (ngSubmit)="onSubmit()" class="space-y-6">

    <!-- Title Field -->
    <div class="form-field">
      <label for="title" class="block text-sm font-medium text-gray-700 mb-1">Book Title</label>
      <input type="text"
             id="title"
             formControlName="title"
             name="title"
             class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
             required />
      <div class="error-message text-red-500 text-xs mt-1" *ngIf="bookForm?.controls?.title?.invalid && bookForm?.controls?.title?.touched">
        Title is required
      </div>
    </div>

    <!-- Author Field -->
    <div class="form-field">
      <label for="author" class="block text-sm font-medium text-gray-700 mb-1">Author</label>
      <input type="text"
             id="author"
             formControlName="author"
             name="author"
             class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
             required />
      <div class="error-message text-red-500 text-xs mt-1" *ngIf="bookForm?.controls?.author?.invalid && bookForm?.controls?.author?.touched">
        Author is required
      </div>
    </div>

    <!-- ISBN Field -->
    <div class="form-field">
      <label for="isbn" class="block text-sm font-medium text-gray-700 mb-1">ISBN</label>
      <input type="text"
             id="isbn"
             formControlName="isbn"
             name="isbn"
             class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
             required />
      <div class="error-message text-red-500 text-xs mt-1" *ngIf="bookForm?.controls?.isbn?.invalid && bookForm?.controls?.isbn?.touched">
        ISBN is required
      </div>
    </div>

    <!-- Price Field -->
    <div class="form-field">
      <label for="price" class="block text-sm font-medium text-gray-700 mb-1">Price</label>
      <input type="number"
             id="price"
             name="price"
             formControlName="price"
             class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
             min="0"
             required />
      <div class="error-message text-red-500 text-xs mt-1" *ngIf="bookForm?.controls?.price?.invalid && bookForm?.controls?.price?.touched">
        Price must be a positive number
      </div>
    </div>

    <!-- Published Date Field -->
    <div class="form-field">
      <label for="publishedDate" class="block text-sm font-medium text-gray-700 mb-1">Published Date</label>
      <input type="date"
             id="publishedDate"
             name="publishedDate"
             formControlName="publishedDate"
             class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
             required />
      <div class="error-message text-red-500 text-xs mt-1" *ngIf="bookForm?.controls?.publishedDate?.invalid && bookForm?.controls?.publishedDate?.touched">
        Published date is required
      </div>
    </div>

    <!-- Category ID Field -->
    <div class="form-field">
      <label for="categoryID" class="block text-sm font-medium text-gray-700 mb-1">Category ID</label>
      <input type="number"
             id="categoryID"
             name="categoryID"
             formControlName="categoryID"
             class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
             min="1"
             required />
      <div class="error-message text-red-500 text-xs mt-1" *ngIf="bookForm?.controls?.categoryID?.invalid && bookForm?.controls?.categoryID?.touched">
        Category ID must be greater than 0
      </div>
    </div>

    <!-- Description Field -->
    <div class="form-field">
      <label for="description" class="block text-sm font-medium text-gray-700 mb-1">Description</label>
      <input type="text"
             id="description"
             name="description"
             formControlName="description"
             class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
             required />
      <div class="error-message text-red-500 text-xs mt-1" *ngIf="bookForm?.controls?.description?.invalid && bookForm?.controls?.description?.touched">
        Description must be between 20 and 750 characters
      </div>
    </div>

    <!-- Image Path Field -->
    <div class="form-field">
      <label for="imagePath" class="block text-sm font-medium text-gray-700 mb-1">Image Path</label>
      <input type="text"
             id="imagePath"
             name="imagePath"
             formControlName="imagePath"
             class="w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
             required />
      <div class="error-message text-red-500 text-xs mt-1" *ngIf="bookForm?.controls?.imagePath?.invalid && bookForm?.controls?.imagePath?.touched">
        Image path is required
      </div>
    </div>

    <!-- Submit Button -->
    <button type="submit"
            class="w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-md shadow-sm transition duration-150 ease-in-out disabled:bg-gray-400 disabled:cursor-not-allowed"
            [disabled]="bookForm.invalid">
      Add Book
    </button>

    <!-- General Error Section -->
    <div class="form-error-message text-center text-red-500 text-sm mt-4" *ngIf="formError">
      {{ formError }}
    </div>
  </form>
</div>
